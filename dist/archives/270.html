<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WSL2に、フラットファイルCMSを入れてみる - つつじ行政書士事務所</title>
    <meta name="description" content="windowsのlocal環境で、Gravや、Bluditなどのデータベース不要のCMSを入れてみました。" />
    <meta property="og:title" content="WSL2に、フラットファイルCMSを入れてみる - つつじ行政書士事務所" />
    <meta property="og:description" content="windowsのlocal環境で、Gravや、Bluditなどのデータベース不要のCMSを入れてみました。" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://g222.tech/img/270/eyecatch.jpg" />
    <meta property="og:site_name" content="つつじ行政書士事務所" />
    <meta property="og:locale" content="ja_JP" />
    <meta property="og:url" content="https://g222.tech/archives/270.html" />
    <link rel="canonical" href="https://g222.tech/archives/270.html" /><script type="application/ld+json">
    [
        {
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "ホーム",
                    "item": "https://g222.tech/"
                }, {
                    "@type": "ListItem", 
                    "position": 2, 
                    "name": "記事一覧", 
                    "item": "https://g222.tech/archives/" 
                }, { 
                    "@type": "ListItem", 
                    "position": 3, 
                    "name": "WSL2に、フラットファイルCMSを入れてみる" 
                }
            ]
        }, { 
            "@context": "https://schema.org", 
            "@type": "BlogPosting", 
            "author": [
                { 
                    "@type":"Organization", 
                    "name": "つつじ行政書士事務所", 
                    "url": "https://g222.tech/" 
                } 
            ], 
            "datePublished": "2023-12-29T11:48:12+09:00","image": "https://g222.tech/img/270/eyecatch.jpg","headline": "WSL2に、フラットファイルCMSを入れてみる" 
        } 
    ]
</script>
<link rel="icon" href="/favicon.svg" type="image/svg+xml" />
        <link rel="stylesheet" href="/assets/bundle.css?d=202507" />
                <script defer type="text/javascript" src="/assets/function.js?d=202507"></script>
        </head>
<body class="light">
    
<nav class="left max l" aria-label="画面幅広メインナビ">
    <header class="center top">
        <!-- canvas で何か書きたい -->
        <canvas id="site-top-canvas" width="200" height="100" style="height:4rem;width:auto;"></canvas>
    </header><a href="/">
        <i>
            <svg viewBox="0 0 16 16"><use href="#home"></use></svg>
        </i>
        <div>ホーム</div>
    </a><a href="/archives/">
        <i>
            <svg viewBox="0 0 16 16"><use href="#archives"></use></svg>
        </i>
        <div>記事一覧</div>
    </a><a href="/contact.html">
        <i>
            <svg viewBox="0 0 16 16"><use href="#contact"></use></svg>
        </i>
        <div>お問い合わせ</div>
    </a><a href="/about.html">
        <i>
            <svg viewBox="0 0 16 16"><use href="#about"></use></svg>
        </i>
        <div>もっと知る</div>
    </a></nav>
<nav class="left m" aria-label="画面幅中メインナビ"><a href="/">
        <i>
            <svg viewBox="0 0 16 16"><use href="#home"></use></svg>
        </i>
        <div>ホーム</div>
    </a><a href="/archives/">
        <i>
            <svg viewBox="0 0 16 16"><use href="#archives"></use></svg>
        </i>
        <div>記事一覧</div>
    </a><a href="/contact.html">
        <i>
            <svg viewBox="0 0 16 16"><use href="#contact"></use></svg>
        </i>
        <div>お問い合わせ</div>
    </a><a href="/about.html">
        <i>
            <svg viewBox="0 0 16 16"><use href="#about"></use></svg>
        </i>
        <div>もっと知る</div>
    </a></nav>
<nav class="bottom s" aria-label="画面幅小メインナビ"><a href="/">
        <i>
            <svg viewBox="0 0 16 16"><use href="#home"></use></svg>
        </i>
    </a><a href="/archives/">
        <i>
            <svg viewBox="0 0 16 16"><use href="#archives"></use></svg>
        </i>
    </a><a href="/contact.html">
        <i>
            <svg viewBox="0 0 16 16"><use href="#contact"></use></svg>
        </i>
    </a><a href="/about.html">
        <i>
            <svg viewBox="0 0 16 16"><use href="#about"></use></svg>
        </i>
    </a></nav>


    <header class="responsive">
        <h2 style="font-size:1rem;">つつじ行政書士事務所</h2>
                    <nav aria-label="パンくずリスト" 
    style="display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;gap:0 1rem;">
                    <a href="/" class="link underline">
            <div style="display:flex; justify-content: flex-start; align-items:flex-start;gap:.3rem;">
                <i>
                    <svg viewbox="0 0 20 20">
                        <use x="2" y="2" href="#home"></use>
                    </svg>
                </i>
                <div>ホーム</div>
            </div>
        </a>
        <div>&gt;</div>
                            <a href="/archives/" class="link underline">
            <div style="display:flex; justify-content: flex-start; align-items:flex-start;gap:.3rem;">
                <i>
                    <svg viewbox="0 0 20 20">
                        <use x="2" y="2" href="#archives"></use>
                    </svg>
                </i>
                <div>記事一覧</div>
            </div>
        </a>
        <div>&gt;</div>
                            <div style="display:flex; justify-content: flex-start; align-items:flex-start;gap:.5rem;">
            <i>
                <svg viewbox="0 0 20 20">
                    <use x="2" y="2" href="#page-fill"></use>
                </svg>
            </i>
            <div>WSL2に、フラットファイルC ...</div>
        </div>
            </nav>
            </header>
    <main class="responsive padding">
        <article class="no-padding border" style="max-width:500px;aspect-ratio: 16/9;margin:0 auto;">
    <img width="16" height="9" fetchpriority="high"
        style="width:100%; height:auto;" 
        src="/img/270/eyecatch.jpg" alt="大分県中津市の風の丘葬祭場" />
    <div class="absolute bottom left right padding bottom-shadow white-text">
        大分県中津市の風の丘葬祭場
    </div>
</article>

        <div class="padding g222-hero">
            <h1>WSL2に、フラットファイルCMSを入れてみる</h1>
            <p class="page-date">
    <span>2023年12月29日作成</span></p>
        </div>

                <article class="border white padding">
            <div class="g222-content"><h2>やりたいこと</h2>
<p>Windows11のWSL2（ubuntu 22.04 LTS）に、PHPや、apache2などのウェブサーバーをインストールして、ローカル環境を作り、BluditやGravなどのフラットファイルCMSを入れたいです。</p>
<h2>きっかけ</h2>
<p>当サイトは、WordPressを利用して作成しています。<br />
しかし、正直、個人事業主でWordPressは、ややオーバースペックのような気がしています。<br />
そこで、ゆくゆくは何か別のCMSを使っていきたいのですが、いきなりインターネット環境で試すのは怖いので、とりあえずローカル環境で作ってみたいと思いました。</p>
<p>windowsでローカル環境を構築するとき、以前ならば、xamppを使っていたのですが、今回はデータベースが不要なことと、windows11では、WSL2が使えるため、ubuntu上でやってみようと考えました。<br />
（Dockerはいつか使ってみたいですが、今回はインストールしていません）</p>
<p>※ ChatGPTに教えてもらえるようになって、環境構築は、かなり楽になりました。  </p>
<h2>手順1 ubuntuにいろいろとインストール</h2>
<p>やり方はいろいろあると思いますが、とりあえず一番スタンダードなコマンド入力でやります。</p>
<pre><code>sudo apt update
sudo apt install apache2
sudo apt install php libapache2-mod-php
sudo apt install php-gd</code></pre>
<p>なお、phpのライブラリ（GDなど）は、このあとインストールするCMSごとに、必要なライブラリが違うので、エラーが出たらその都度インストールしてください。</p>
<p>基本的には、sudo apt install に続けて、必要なライブラリ名を書くだけです。<br />
ライブラリ名は、ChatGPTが教えてくれました。</p>
<h2>手順2 apache2の設定</h2>
<p>apache2の設定は、<code>/etc/apache2/apache2.conf</code> に書くようです。<br />
<code>&lt;Directory&gt;&lt;/Directory&gt;</code> で挟まれているところを探して、<code>/var/www/</code> になっているところを探します。<br />
そこで、AllowOverride All になるようにしてください。</p>
<p>これをやっておかないと、<code>.htaccess</code>が効かないです。<br />
（わたしはこの部分で1日詰まりました）</p>
<p>また、apache2を起動させるコマンドは、<code>sudo service apache2 start</code> です。<br />
終了するコマンドは、<code>sudo service apache2 stop</code> です。<br />
再起動するコマンドは、<code>sudo service apache2 restart</code> です。</p>
<p>この時点で、ブラウザからlocalhostに接続してみて、apache2の標準ページが表示されることを確認しておくとよいと思います。</p>
<h2>手順3 Grav（もしくはBludit）をダウンロード、展開</h2>
<p><a href="https://getgrav.org/">Grav</a>でも、<a href="https://www.bludit.com/">Bludit</a>でも、（もしくは、その他のフラットファイルCMSでも）zipファイルをダウンロードします。<br />
フラットファイルCMSは、データベースを必要としないので、zipファイルを展開するだけで済むのがメリットです。</p>
<p>ダウンロードは、windowsからすると思うので、これをubuntuのhomeディレクトリの、自分のユーザーディレクトリにzipのまま移動させます。</p>
<p>その後、unzipコマンドで展開しつつ移動させます。<br />
たとえば、以下のようなコマンドになると思います。</p>
<pre><code>sudo unzip 【zipファイル名】 -d /var/www/html/</code></pre>
<p>このとき、chownで、グループとユーザーをapache2のものに変更しておかないといけないようです。<br />
たとえば、sudo chown -R www-data:www-data 【展開したディレクトリ】 のようにすればよいはずです。<br />
（わたしは、この部分でも1日詰まりました）</p>
<p>なお、www-dataというのは、環境によって違うのかもしれませんが、apache2が使うグループとユーザー名とのことです。</p>
<p>その他、サブディレクトリにする場合は、それぞれの設定ファイルを変更する必要があるようです。<br />
たとえば、Bluditであれば、<a href="https://docs.bludit.info/getting-started/installation-guide">インストールガイド -&gt; サブディレクトリへのインストール</a>を参照してください。</p>
<h2>手順4 Grav（もしくはBludit）のインストール</h2>
<p>あとは、Grav、Bludit、その他のcmsのインストール画面に従って、管理者アカウントなどを作成するだけです。</p>
<p>もしかしたら、追加でphpのライブラリをインストールすることになるかもしれません。<br />
その際は、ChatGPTに教えてもらいながら、<code>sudo apt install ???</code> でインストールしていきます。
まとめ</p>
<p>とりあえず、GravとBluditを入れられたので、これから少しずつ触っていきたいと思います。<br />
もし使いやすければ、レンタルサーバーも安いプランに変えていけたら、固定費も抑えられて良いのではないかと思っています。</p></div>
        </article>
        
        

<section class="padding" id="after-content">
    <p>最後までお読みいただきありがとうございました。<br>
    なにかお気づきの点がありましたら、<a href="/contact.html" class="button small border">お問い合わせ</a>ください。
    </p>
    <img src="#" alt="日行連公式キャラクター「ユキマサくん」" 
        width="300" height="300" style="display:block;width:300px;max-width:100%;height:auto;" />
    <p>（日行連公式キャラクター「ユキマサくん」）</p>
    <div class="border padding tertiary-container" style="max-width:500px;">message</div>
</section>

<article class="border">
    <h2 style="font-size:1.125rem;font-weight:bold;padding:var(--_padding);">前後の記事</h2>
    <ul style="list-style-type:none;margin:0;padding:0;">
        <li style="border-top: 1px solid var(--outline-variant);padding:var(--_padding);">
            <div style="display:flex;align-items:center;justify-content:flex-start;gap:1rem;">
                <svg class="circle left-round" viewBox="0 0 24 24"
                    style="background-color:var(--primary);color:var(--on-primary);flex-shrink:0;">
                    <use href="#chevron-left" x="4" y="4"></use>
                </svg>
                                <div>
                    <h3 class="small" style="font-size:1rem;">
                        <a class="link" href="/archives/257.html">pushStateでブラウザの状態を管理する</a>
                    </h3>
                    <div class="m l">ジンドゥーの記事をQiitaに書く際に、pushState()について調べたのでまとめます。</div>
                </div>
                            </div>
        </li>
        <li style="border-top: 1px solid var(--outline-variant);padding:var(--_padding);">
            <div style="display:flex;align-items:center;justify-content:flex-start;gap:1rem;">
                <svg class="round" viewBox="0 0 24 24"
                    style="background-color:var(--primary);color:var(--on-primary);flex-shrink:0;">
                    <use href="#archives" x="4" y="4"></use>
                </svg>
                <div>
                    <h3 class="small" style="font-size:1rem;">
                        <a class="link" href="/archives/">記事一覧</a>
                    </h3>
                    <div class="m l">過去記事の一覧に戻ります</div>
                </div>
            </div>
        </li>
        <li style="border-top: 1px solid var(--outline-variant);padding:var(--_padding);">
            <div style="display:flex;align-items:center;justify-content:flex-start;gap:1rem;">
                <svg class="circle right-round" viewBox="0 0 24 24"
                    style="background-color:var(--primary);color:var(--on-primary);flex-shrink:0;">
                    <use href="#chevron-right" x="4" y="4"></use>
                </svg>
                                <div>
                    <h3 class="small" style="font-size:1rem;">
                        <a class="link" href="/archives/277.html">事業継続計画（BCP）の概要と参考リンク</a>
                    </h3>
                    <div class="m l">事業継続計画について、概要と各省庁の参考リンクをまとめました。</div>
                </div>
                            </div>
        </li>
    </ul>
</article>

<article id="recent-posts" class="border">
    <div class="padding">読み込み中 ...</div>
    <noscript>
        <div class="padding error-container">JavaScriptが有効になっておらず、読み込みに失敗しています。</div>
    </noscript>
</article>
    </main>
    <footer class="responsive">
        <section class="padding" style="margin-top: 64px; margin-bottom: 32px;">
        <h2 style="font-size:1.125rem;">つつじ行政書士事務所</h2>
        <div class="padding">
            <address>〒830-0044<br>福岡県久留米市本町233-2-502</address>
            <p>ITストラテジストの行政書士です。<br>ご依頼等は、お問い合わせからお願いします。</p>
        </div>
        <h3 style="font-size:1rem;">SNS等</h3>
        <div class="padding grid">
                        <a class="s12 m6 l4 button border" href="https://thirdcake.github.io/tools_page/">
                <i><img src="/assets/sns/github-mark.svg" alt="GitHub" width="18" height="18" /></i>
                <span>GitHub</span>
            </a>
                        <a class="s12 m6 l4 button border" href="https://atcoder.jp/users/g222">
                <i><img src="/assets/sns/atcoder-icon.webp" alt="AtCoder" width="18" height="18" /></i>
                <span>AtCoder</span>
            </a>
                        <a class="s12 m6 l4 button border" href="https://qiita.com/g222">
                <i><img src="/assets/sns/qiita-icon.png" alt="Qiita" width="18" height="18" /></i>
                <span>Qiita</span>
            </a>
                        <a class="s12 m6 l4 button border" href="https://mastodon-japan.net/@g222">
                <i><img src="/assets/sns/mastodon-logo-purple.svg" alt="Mastodon" width="18" height="18" /></i>
                <span>Mastodon</span>
            </a>
                        <a class="s12 m6 l4 button border" href="https://x.com/g222tech">
                <i><img src="/assets/sns/twitter-logo.svg" alt="Twitter(X)" width="18" height="18" /></i>
                <span>Twitter(X)</span>
            </a>
                    </div>
        <p class="padding" style="font-size:.8rem">※ 当事務所は、福岡県久留米市にある行政書士事務所です。<br>
        群馬県館林市にある、外国人ビザ申請に強い行政書士事務所をお探しの方は、
        <a href="https://tsutsujiilo.com/" class="underline" style="display:inline;">行政書士つつじ国際法務事務所</a>をご覧ください。</p>
    </section>
    </footer>

    
<svg viewBox="0 0 16 16" style="display: none">
  <defs>
    <symbol id="home" width="16" height="16" viewBox="0 0 16 16">
      <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z"/>
    </symbol>
    <symbol id="home-fill" width="16" height="16" viewBox="0 0 16 16">
      <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5"/>
    </symbol>
    <symbol id="archives" width="16" height="16" viewBox="0 0 16 16">
      <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
    </symbol>
    <symbol id="archives-fill" width="16" height="16" viewBox="0 0 16 16">
      <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1M.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8z"/>
    </symbol>
    <symbol id="contact" width="16" height="16" viewBox="0 0 16 16">
      <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
    </symbol>
    <symbol id="contact-fill" width="16" height="16" viewBox="0 0 16 16">
      <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"/>
    </symbol>
    <symbol id="about" width="16" height="16" viewBox="0 0 16 16">
      <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
    </symbol>
    <symbol id="about-fill" width="16" height="16" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
    </symbol>
    <symbol id="page" width="16" height="16" viewBox="0 0 16 16">
      <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
    </symbol>
    <symbol id="page-fill" width="16" height="16" viewBox="0 0 16 16">
      <path d="M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m5.5 1.5v2a1 1 0 0 0 1 1h2z"/>
    </symbol>
    <symbol id="chevron-bar-left" width="16" height="16" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.854 3.646a.5.5 0 0 1 0 .708L8.207 8l3.647 3.646a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708 0M4.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5"/>
    </symbol>
    <symbol id="chevron-bar-right" width="16" height="16" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0M11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5"/>
    </symbol>
    <symbol id="chevron-left" width="16" height="16" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
    </symbol>
    <symbol id="chevron-right" width="16" height="16" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
    </symbol>
  </defs>
</svg>

</body>
</html>