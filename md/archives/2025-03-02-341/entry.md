---
title: "MX Linuxをアップデートしました"
description: "自宅のPCを、MX Linux21.3から23.5にアップグレードしました"
eyecatch: 
    src: "/img/341/eyecatch.jpg"
    alt: "香川県にある東山魁夷せとうち美術館"
create_at: "2025-03-02T13:13:00"
---

以前、[自宅の古いPCにLinuxを入れたという話を書きました。](/archives/76.html)

特に問題もなく快適に使えていましたが、せっかくなのでアップグレードすることにしました。

## MX Linux

前回導入したのが、MX Linuxの21.3で、今回導入するのは、同じMX Linuxの23.5です。  
MX Linuxは、Linuxディストリビューションの中でも人気の高いもので、32bit PCでも動くことが特徴です。

（ただし、もう少し経ったら、MX Linux25系が出てきそうなので、それまで待っても良かったかもしれません。）

## ダウンロード

まずは、[MX Linuxの公式サイト](https://mxlinux.org/)からISOファイルをダウンロードします。

MX Linuxには、大きく3種類あって、Xfce、KDE、Fluxboxがあります。  
現在使っているのは、Xfceなので、これをダウンロードします。

64bit版、32bit版などありますが、インストール先PCは32bitなので、32bit版です。

ダウンロードが完了したら、ハッシュ値を確認します。

```bash
sha256sum MXLinuxのisoファイル名
```

しばらくすると、計算結果の文字列が表示されます。  
MX Linuxのダウンロードページにある Verification checksum の値と比較し、一致すれば問題ありません。

## USBメモリに書き込む

ダウンロードしたISOファイルは、そのままでは実行できません。  
USBメモリに、実行ファイルとして書き込みます。  
（これを「ブータブルUSB」などと呼ぶようです）

ダウンロードファイルは2.1ギガあったので、4ギガ以上のUSBメモリを用意してください。  
（最近は、16ギガや32ギガのものでも1000円程度で買えます。安くなりました）

Windowsの場合は、Rufusというアプリが使えるようです。

Linuxの場合は、次の手順でできます。

1. `lsblk` コマンドで、USBメモリの名前を調べる
2. `umount` コマンドで、USBメモリをアンマウントする
3. `mkfs` コマンドで、フォーマットする
4. `dd` コマンドで、isoファイルを書き込む

コマンドにすると、以下のようなイメージです。

```bash
lsblk
sudo umount /dev/sdX1
sudo mkfs.vfat -F32 /dev/sdX1
sudo dd if=MXLinuxのisoファイル名 of=/dev/sdX bs=nM status=progress && sync
```

`lsblk` コマンドを実行すると、接続されているストレージデバイスの一覧が表示されます。  
USBメモリのデバイス名（例: `/dev/sda` 等）が確認できます。

`dd` コマンドについては、`dd --help` で、いろいろ説明が出てきますが、今回使うのは、`if`、`of`、`bs`、`status`の4つです。

`if` は、先ほどダウンロードしたisoファイルを指します。相対パスで大丈夫です。

`of` は、書き込む先のUSBメモリを指します。

※ ここで注意が必要です。  
先ほどのmkfsコマンドとは違い、`/dev/sda1` ではなく、`/dev/sda` を指定してください。  
`/dev/sda1` ではなく `/dev/sda` を指定しないと、このあとのBIOSで正しく読み込めません。  
私はこれを間違え、3日間作業が止まりました。

`bs` は、転送するブロックのサイズです。  
一般的には `bs=16M` や `bs=32M` がよく使われるようです。  
（わたしの場合は不具合はありませんでしたが、もしうまくいかない時は、`bs=4M` を使うと良いようです）

`status=progress` は、進行状況を表示してくれます。

## BIOSから設定

MX Linux 21.3では、PCを起動すると自動的にBIOSの選択画面が表示されます。

矢印キーで選択し、エンターキーを押すと、BIOSが起動します。

USBメモリを挿した状態でBIOS画面に移ると、Boot タブにある Boot Priority（起動優先順位）のリストにUSBメモリが表示されます。  
USBメモリの優先順位を1位にして、保存してからEXITすれば、MX Linux 23.5が立ち上がります。

## 感想

前回よりも、Linuxの意味が分かるようになってきたので、比較的スムーズに進めることができました。
